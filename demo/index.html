<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Parallax Color Bars example</title>

    <link rel="stylesheet" href="style.css">


</head>

<body>


<header></header>


<div class="spacer"></div>

<div class="spacer"></div>


<div class="parallax-color-bar-section">

    <div class="parallax-color-bar-section-background back-img" style="background-image: url('imgs/img1.jpg')"></div>

    <div class="parallax-color-bars-list">

        <div class="parallax-color-bar"
             data-parallax-color-bar='{"left": 10, "top": 10, "width": 10, "height": 30, "shift": 200, "duration": 2}'>

            <div class="parallax-color-bar-background back-img" style="background-image: url('imgs/img1.jpg')"></div>

        </div>

        <div class="parallax-color-bar"
             data-parallax-color-bar='{"left": 30, "top": 10, "width": 20, "height": 50, "shift": 100, "duration": 2}'>

            <div class="parallax-color-bar-background back-img" style="background-image: url('imgs/img1.jpg')"></div>

        </div>

        <div class="parallax-color-bar"
             data-parallax-color-bar='{"left": 80, "top": 10, "width": 10, "height": 30, "shift": 100, "duration": 2}'>

            <div class="parallax-color-bar-background back-img" style="background-image: url('imgs/img1.jpg')"></div>

        </div>

    </div>

</div>

<div class="spacer"></div>

<div class="parallax-color-bar-section">

    <div class="normal-layer back-video">
        <video src="video/SampleVideo_color.mp4" muted loop></video>
    </div>

    <div class="parallax-color-bars-list">

        <div class="parallax-color-bar"
             data-parallax-color-bar='{"left": 10, "top": 10, "width": 10, "height": 30, "shift": 200, "duration": 2}'>

            <div class="parallax-color-bar-background back-video">
                <video src="video/SampleVideo_bw.mp4" muted loop></video>
            </div>

        </div>

        <div class="parallax-color-bar"
             data-parallax-color-bar='{"left": 30, "top": 10, "width": 20, "height": 50, "shift": 100, "duration": 2}'>

            <div class="parallax-color-bar-background back-video">
                <video src="video/SampleVideo_bw.mp4" muted loop></video>
            </div>

        </div>

        <div class="parallax-color-bar"
             data-parallax-color-bar='{"left": 80, "top": 10, "width": 10, "height": 30, "shift": 100, "duration": 2}'>

            <div class="parallax-color-bar-background back-video">
                <video src="video/SampleVideo_bw.mp4" muted loop></video>
            </div>

        </div>

    </div>

</div>



<div class="spacer"></div>

<div class="spacer"></div>


<script src="js/jquery-3.2.0.min.js"></script>
<script src="js/TweenLite.min.js"></script>
<script src="js/CSSPlugin.min.js"></script>

<script src="../build/parallaxColorBars.js"></script>


<script>

    $('.parallax-color-bar-section').parallaxColorBars();


    //************************************
    // RESIZE VIDEO
    //************************************
    function vidRescale() {
        $('.back-video').each(function () {
            var _width = $(this).width();
            var _height = $(this).height();
            var _ratio_x = $(this).data('ratio-x') || 16;
            var _ratio_y = $(this).data('ratio-y') || 9;
            var _video = $(this).find('video');
            if (_width / _height > _ratio_x / _ratio_y) {
                _video.css({
                    "width": _width,
                    "height": _width / _ratio_y * _ratio_x
                });
            } else {
                _video.css({
                    "width": _height / _ratio_y * _ratio_x,
                    "height": _height
                });
            }
        });
    }

    $(window).on('resize load', function () {
        vidRescale();
    });


    $(window).on('load', function () {
        $('video').each(function(){
            $(this).get(0).play();
        })
    });

</script>

</body>
</html>